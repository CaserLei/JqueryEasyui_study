<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>progressbar进度条</title>
		<link rel="stylesheet" href="../themes/icon.css" type="text/css"></link>
		<link rel="stylesheet" href="../themes/default/easyui.css" type="text/css"></link>
		<!-- 引入easyui的js文件，先引入jquery，再引入easyui -->  
		<script type="text/javascript" src="../js/jquery-1.8.2.js"></script>
		<script type="text/javascript" src="../js/jquery.min.js"></script>
		<script type="text/javascript" src="../js/jquery.easyui.min.js"></script>
		<script type="text/javascript" src="../js/easyui-lang-zh_CN.js"></script>
	</head>
	<body>
		<div id="p" style="width:400px;"></div> 
		
		<script type="text/javascript">
			$('#p').progressbar({ 
				value: 0 
			}); 
		</script>
		<input id="startID" type="button" value="动起来" style="width:160px ; height: 60px; font-size: 40px;"/>
		
		<script type="text/javascript">
			//获取1到9之间的随机数，包含1和9
			function getNum(){
				return Math.floor(Math.random()*9+1);
			}
		</script>
		<script type="text/javascript">
		    var timeID=null;
		    function update(){
		    	var num=getNum();
		    	var value=$("#p").progressbar("getValue");
		    	//判断
		    	if(value+num>100){
		    		$('#p').progressbar('setValue', 100); 
		    		//停止定时器
		    		window.clearInterval(timeID);
		    		
		    		$("#startID").removeAttr("disabled");
		    	}else{
		    		$('#p').progressbar('setValue', (value+num)); 
		    	}
				
			
		    }
			$("#startID").click(function(){
				var timeID=window.setInterval("update()",300);
				$(this).attr("disabled","disabled");
				
			});
		</script>
	</body>
</html>